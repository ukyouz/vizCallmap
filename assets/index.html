<html lang="ja">

<head>
    <meta charset="Shift_JIS">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.9.1/dist/mermaid.min.js"></script>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/6.2.0/d3.min.js"></script> -->
    <style>
        html,
        body,
        pre {
            margin: 0;
            padding: 0;
        }
    </style>
    <style>
        /* PrismJS 1.29.0
https://prismjs.com/download.html#themes=prism&languages=clike */
code[class*=language-],pre[class*=language-]{color:#000;background:0 0;text-shadow:0 1px #fff;font-family:Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection{text-shadow:none;background:#b3d4fc}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}
    </style>
    <style>
        svg g[data-id].node:not(.active) {
            cursor: pointer;
        }
        svg g[data-id].node.active rect {
            fill: yellow !important;
        }
        svg path[marker-end]:not(.active) {
            cursor: pointer;
        }
        svg path[marker-end]:hover,
        svg path[marker-end].active {
            stroke-width: 8px !important;
        }

        p.anchor {
            font-size: 0.85rem;
        }
        code[class*=language-], pre[class*=language-] {
            font-family: Consolas, "Meiryo UI", monospace;
        }

        #control {
            background-color: #fff;
            position: fixed;
            inset: 0;
            border-bottom: 1px solid grey;
            /* text-align: right; */
            display: flex;
            align-items: center;
            justify-content: end;
        }
        .control-panel label {
            user-select: none;
            -ms-user-select: none;
            -moz-user-focus: none;
        }
        .control-panel input[name="keyboardEnable"]:not(:checked) ~ div u {
            text-decoration: none;
        }
        .control-panel {
            height: 2.5em;
            padding: 6px;
        }
        .control-panel button {
            margin: 0px;
        }
        .control-panel .btnColor {
            cursor: pointer;
            height: 20px;
            width: 20px;
            border: none;
        }
    </style>
</head>

<body id="top">
    <div id="control" class="control-panel">
        <strong>[Chart Control]</strong>
        <input type="checkbox" id="keyboardEnable" name="keyboardEnable" checked="checked">
        <label for="keyboardEnable" style="margin-right: 6px;"> Enable Keyboard</label>
        <div>
            <button id="btnHideLines">Hide all lines</button>
            <span style="margin-left: 6px;">Node:</span>
            <button id="btnHighlight"><u>m</u>ark</button>
            <button id="btnFocus"><u>f</u>ocus</button>
            <button id="btnToggle"><u>h</u>ide/show</button>
            <small>Selection</small>
            <button id="btnSelectTowards"><u>t</u>owards</button>
            <button id="btnSelectOutwards"><u>o</u>utwards</button>
            <span style="margin-left: 6px;">Line:</span>
            <button class="btnColor" style="background-color: #ff0000"><u>r</u></button>
            <button class="btnColor" style="background-color: #ff00ff"><u>p</u></button>
            <button class="btnColor" style="background-color: #ffff00"><u>y</u></button>
            <button class="btnColor" style="background-color: #00ff00"><u>g</u></button>
            <button class="btnColor" style="background-color: #00Ffff"><u>c</u></button>
            <button class="btnColor" style="background-color: #0000ff"><u>b</u></button>
            <button class="btnColor" style="background-color: #000000; color: white"><u>d</u></button>
        </div>
    </div>
    <div class="control-panel"></div>
    <p>Table of Content:
        <ul>
            <li><a href="#graph">Flow Chart</a></li>
            <li><a href="#code">Pseudo Code</a></li>
        </ul>
    </p>
    <p class="anchor">Jump to: <a href="#code">Pseudo Code</a> | <a href="#top">Top</a></p>
    <pre id="graph"><div class="graphDiv"><diagram/></div></pre>
    <p class="anchor">Jump to: <a href="#graph">Flow Chart</a> | <a href="#top">Top</a></p>
    <pre id="code"><code class="language-clike"><source/></code></pre>
    <p class="anchor">Jump to: <a href="#graph">Flow Chart</a> | <a href="#code">Pseudo Code</a> | <a href="#top">Top</a></p>
    <script>
        /* PrismJS 1.29.0
    https://prismjs.com/download.html#themes=prism&languages=clike */
    var _self="undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{},Prism=function(e){var n=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,t=0,r={},a={manual:e.Prism&&e.Prism.manual,disableWorkerMessageHandler:e.Prism&&e.Prism.disableWorkerMessageHandler,util:{encode:function e(n){return n instanceof i?new i(n.type,e(n.content),n.alias):Array.isArray(n)?n.map(e):n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++t}),e.__id},clone:function e(n,t){var r,i;switch(t=t||{},a.util.type(n)){case"Object":if(i=a.util.objId(n),t[i])return t[i];for(var l in r={},t[i]=r,n)n.hasOwnProperty(l)&&(r[l]=e(n[l],t));return r;case"Array":return i=a.util.objId(n),t[i]?t[i]:(r=[],t[i]=r,n.forEach((function(n,a){r[a]=e(n,t)})),r);default:return n}},getLanguage:function(e){for(;e;){var t=n.exec(e.className);if(t)return t[1].toLowerCase();e=e.parentElement}return"none"},setLanguage:function(e,t){e.className=e.className.replace(RegExp(n,"gi"),""),e.classList.add("language-"+t)},currentScript:function(){if("undefined"==typeof document)return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(r){var e=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(r.stack)||[])[1];if(e){var n=document.getElementsByTagName("script");for(var t in n)if(n[t].src==e)return n[t]}return null}},isActive:function(e,n,t){for(var r="no-"+n;e;){var a=e.classList;if(a.contains(n))return!0;if(a.contains(r))return!1;e=e.parentElement}return!!t}},languages:{plain:r,plaintext:r,text:r,txt:r,extend:function(e,n){var t=a.util.clone(a.languages[e]);for(var r in n)t[r]=n[r];return t},insertBefore:function(e,n,t,r){var i=(r=r||a.languages)[e],l={};for(var o in i)if(i.hasOwnProperty(o)){if(o==n)for(var s in t)t.hasOwnProperty(s)&&(l[s]=t[s]);t.hasOwnProperty(o)||(l[o]=i[o])}var u=r[e];return r[e]=l,a.languages.DFS(a.languages,(function(n,t){t===u&&n!=e&&(this[n]=l)})),l},DFS:function e(n,t,r,i){i=i||{};var l=a.util.objId;for(var o in n)if(n.hasOwnProperty(o)){t.call(n,o,n[o],r||o);var s=n[o],u=a.util.type(s);"Object"!==u||i[l(s)]?"Array"!==u||i[l(s)]||(i[l(s)]=!0,e(s,t,o,i)):(i[l(s)]=!0,e(s,t,null,i))}}},plugins:{},highlightAll:function(e,n){a.highlightAllUnder(document,e,n)},highlightAllUnder:function(e,n,t){var r={callback:t,container:e,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};a.hooks.run("before-highlightall",r),r.elements=Array.prototype.slice.apply(r.container.querySelectorAll(r.selector)),a.hooks.run("before-all-elements-highlight",r);for(var i,l=0;i=r.elements[l++];)a.highlightElement(i,!0===n,r.callback)},highlightElement:function(n,t,r){var i=a.util.getLanguage(n),l=a.languages[i];a.util.setLanguage(n,i);var o=n.parentElement;o&&"pre"===o.nodeName.toLowerCase()&&a.util.setLanguage(o,i);var s={element:n,language:i,grammar:l,code:n.textContent};function u(e){s.highlightedCode=e,a.hooks.run("before-insert",s),s.element.innerHTML=s.highlightedCode,a.hooks.run("after-highlight",s),a.hooks.run("complete",s),r&&r.call(s.element)}if(a.hooks.run("before-sanity-check",s),(o=s.element.parentElement)&&"pre"===o.nodeName.toLowerCase()&&!o.hasAttribute("tabindex")&&o.setAttribute("tabindex","0"),!s.code)return a.hooks.run("complete",s),void(r&&r.call(s.element));if(a.hooks.run("before-highlight",s),s.grammar)if(t&&e.Worker){var c=new Worker(a.filename);c.onmessage=function(e){u(e.data)},c.postMessage(JSON.stringify({language:s.language,code:s.code,immediateClose:!0}))}else u(a.highlight(s.code,s.grammar,s.language));else u(a.util.encode(s.code))},highlight:function(e,n,t){var r={code:e,grammar:n,language:t};if(a.hooks.run("before-tokenize",r),!r.grammar)throw new Error('The language "'+r.language+'" has no grammar.');return r.tokens=a.tokenize(r.code,r.grammar),a.hooks.run("after-tokenize",r),i.stringify(a.util.encode(r.tokens),r.language)},tokenize:function(e,n){var t=n.rest;if(t){for(var r in t)n[r]=t[r];delete n.rest}var a=new s;return u(a,a.head,e),o(e,a,n,a.head,0),function(e){for(var n=[],t=e.head.next;t!==e.tail;)n.push(t.value),t=t.next;return n}(a)},hooks:{all:{},add:function(e,n){var t=a.hooks.all;t[e]=t[e]||[],t[e].push(n)},run:function(e,n){var t=a.hooks.all[e];if(t&&t.length)for(var r,i=0;r=t[i++];)r(n)}},Token:i};function i(e,n,t,r){this.type=e,this.content=n,this.alias=t,this.length=0|(r||"").length}function l(e,n,t,r){e.lastIndex=n;var a=e.exec(t);if(a&&r&&a[1]){var i=a[1].length;a.index+=i,a[0]=a[0].slice(i)}return a}function o(e,n,t,r,s,g){for(var f in t)if(t.hasOwnProperty(f)&&t[f]){var h=t[f];h=Array.isArray(h)?h:[h];for(var d=0;d<h.length;++d){if(g&&g.cause==f+","+d)return;var v=h[d],p=v.inside,m=!!v.lookbehind,y=!!v.greedy,k=v.alias;if(y&&!v.pattern.global){var x=v.pattern.toString().match(/[imsuy]*$/)[0];v.pattern=RegExp(v.pattern.source,x+"g")}for(var b=v.pattern||v,w=r.next,A=s;w!==n.tail&&!(g&&A>=g.reach);A+=w.value.length,w=w.next){var E=w.value;if(n.length>e.length)return;if(!(E instanceof i)){var P,L=1;if(y){if(!(P=l(b,A,e,m))||P.index>=e.length)break;var S=P.index,O=P.index+P[0].length,j=A;for(j+=w.value.length;S>=j;)j+=(w=w.next).value.length;if(A=j-=w.value.length,w.value instanceof i)continue;for(var C=w;C!==n.tail&&(j<O||"string"==typeof C.value);C=C.next)L++,j+=C.value.length;L--,E=e.slice(A,j),P.index-=A}else if(!(P=l(b,0,E,m)))continue;S=P.index;var N=P[0],_=E.slice(0,S),M=E.slice(S+N.length),W=A+E.length;g&&W>g.reach&&(g.reach=W);var z=w.prev;if(_&&(z=u(n,z,_),A+=_.length),c(n,z,L),w=u(n,z,new i(f,p?a.tokenize(N,p):N,k,N)),M&&u(n,w,M),L>1){var I={cause:f+","+d,reach:W};o(e,n,t,w.prev,A,I),g&&I.reach>g.reach&&(g.reach=I.reach)}}}}}}function s(){var e={value:null,prev:null,next:null},n={value:null,prev:e,next:null};e.next=n,this.head=e,this.tail=n,this.length=0}function u(e,n,t){var r=n.next,a={value:t,prev:n,next:r};return n.next=a,r.prev=a,e.length++,a}function c(e,n,t){for(var r=n.next,a=0;a<t&&r!==e.tail;a++)r=r.next;n.next=r,r.prev=n,e.length-=a}if(e.Prism=a,i.stringify=function e(n,t){if("string"==typeof n)return n;if(Array.isArray(n)){var r="";return n.forEach((function(n){r+=e(n,t)})),r}var i={type:n.type,content:e(n.content,t),tag:"span",classes:["token",n.type],attributes:{},language:t},l=n.alias;l&&(Array.isArray(l)?Array.prototype.push.apply(i.classes,l):i.classes.push(l)),a.hooks.run("wrap",i);var o="";for(var s in i.attributes)o+=" "+s+'="'+(i.attributes[s]||"").replace(/"/g,"&quot;")+'"';return"<"+i.tag+' class="'+i.classes.join(" ")+'"'+o+">"+i.content+"</"+i.tag+">"},!e.document)return e.addEventListener?(a.disableWorkerMessageHandler||e.addEventListener("message",(function(n){var t=JSON.parse(n.data),r=t.language,i=t.code,l=t.immediateClose;e.postMessage(a.highlight(i,a.languages[r],r)),l&&e.close()}),!1),a):a;var g=a.util.currentScript();function f(){a.manual||a.highlightAll()}if(g&&(a.filename=g.src,g.hasAttribute("data-manual")&&(a.manual=!0)),!a.manual){var h=document.readyState;"loading"===h||"interactive"===h&&g&&g.defer?document.addEventListener("DOMContentLoaded",f):window.requestAnimationFrame?window.requestAnimationFrame(f):window.setTimeout(f,16)}return a}(_self);"undefined"!=typeof module&&module.exports&&(module.exports=Prism),"undefined"!=typeof global&&(global.Prism=Prism);
    Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/};
    </script>
    <script>
        mermaid.initialize({
            startOnLoad: false,
            theme: 'base',
            themeVariables: {
                fontFamily: "Consolas, 'Meiryo UI', monospace",
            },
            maxEdges: 2000,
            rankSpacing: 150,
        });
        mermaid.run({
            querySelector: '.graphDiv',
        });
    </script>
    <script>
        const DEFAULT_STROKE_WIDTH = 2;
        let selected_nodes = new Set();
        let selected_lines = new Set();

        function blurElements(targetElemSet) {
            targetElemSet.forEach(node => {
                node.classList.remove("active");
            })
            targetElemSet.clear()
        }
        function onElementSelected(elem, targetElemSet, append_mode) {
            targetElemSet.forEach(node => { node.classList.remove("active"); })
            if (!append_mode) {
                targetElemSet.clear()
            }
            targetElemSet.add(elem);

            targetElemSet.forEach(node => { node.classList.add("active"); })
        }

        function forEachTowardLines(nodeId, cb) {
            document.querySelectorAll(`.LE-${nodeId}`).forEach(line => { cb(line) })
        }

        function forEachOutwardLines(nodeId, cb) {
            document.querySelectorAll(`.LS-${nodeId}`).forEach(line => { cb(line) })
        }

        function toggleAttribute(elem, tag, elem_active_cb, elem_inactive_cb, outwards_cb, inwards_cb, arrow_inactive_cb) {
            if (elem.dataset[tag]) {
                // disable
                elem_inactive_cb(elem)
                forEachTowardLines(elem.dataset.id, arrow => { arrow_inactive_cb(arrow) })
                forEachOutwardLines(elem.dataset.id, arrow => { arrow_inactive_cb(arrow) })
                elem.removeAttribute(`data-${tag}`)
            } else {
                // enable
                elem_active_cb(elem);
                forEachTowardLines(elem.dataset.id, arrow => { outwards_cb(arrow) })
                forEachOutwardLines(elem.dataset.id, arrow => { inwards_cb(arrow) })
                elem.dataset[tag] = "yes";
            }
        }

        function hideAllLines(tag) {
            document.querySelectorAll("path").forEach(elem => {
                elem.style.strokeWidth = 0;
            })
            document.querySelectorAll("g[data-id]").forEach(elem => {
                elem.removeAttribute(`data-${tag}`)
                elem.removeAttribute("style")
                elem.dataset.hidden = "yes"
            })
            blurElements(selected_lines)
        }
        function showAllLines(tag) {
            document.querySelectorAll("path").forEach(elem => {
                elem.style.strokeWidth = DEFAULT_STROKE_WIDTH;
            })
            document.querySelectorAll("g[data-id]").forEach(elem => {
                elem.removeAttribute(`data-${tag}`)
                elem.removeAttribute("style")
            })
        }
        function setLinesColor(lines, color) {
            lines.forEach(line => {
                line.setAttribute("style", `stroke: ${color}`);
                line.setAttribute("stroke", color);
            })
        }

        function focusNodes(evt, selected_elems) {
            has_focus = false;
            selected_elems.forEach(elem => {
                if (elem.dataset["focus"]) {
                    has_focus = true;
                }
            })
            hideAllLines("focus");
            selected_elems.forEach(elem => {
                if (has_focus) {
                    showAllLines("focus");
                    elem.removeAttribute(`data-focus`)
                } else {
                    toggleAttribute(
                        elem,
                        "focus",
                        () => { },
                        () => { },
                        (arrow) => { arrow.style.strokeWidth = DEFAULT_STROKE_WIDTH },
                        (arrow) => { arrow.style.strokeWidth = DEFAULT_STROKE_WIDTH },
                        (arrow) => { arrow.style.strokeWidth = DEFAULT_STROKE_WIDTH },
                    )
                    elem.dataset["focus"] = "yes";
                }
            })
        }

        function highlightNodes(evt, selected_elems) {
            selected_elems.forEach(elem => {
                toggleAttribute(
                    elem,
                    "active",
                    (elem) => { elem.setAttribute("style", "outline: 3px solid red; outline-offset: -1px;") },
                    (elem) => { elem.removeAttribute("style") },
                    (arrow) => { arrow.style.stroke = arrow.style.stroke || "red"; arrow.style.strokeWidth = 5 },
                    (arrow) => { arrow.style.stroke = arrow.style.stroke || "blue"; arrow.style.strokeWidth = 5 },
                    (arrow) => { arrow.style.stroke = arrow.style.stroke || ""; arrow.style.strokeWidth = DEFAULT_STROKE_WIDTH },
                )
            })
        }

        function hideShowNodes(evt, selected_elems) {
            selected_elems.forEach(elem => {
                toggleAttribute(
                    elem,
                    "hidden",
                    (elem) => { elem.setAttribute("style", "fill:#808080; outline: 1px solid gray; outline-offset: 0px; opacity: 0.5") },
                    (elem) => { elem.removeAttribute("style") },
                    (arrow) => { arrow.style.strokeWidth = 0; },
                    (arrow) => { arrow.style.strokeWidth = 0; },
                    (arrow) => { arrow.style.strokeWidth = DEFAULT_STROKE_WIDTH; },
                )
            })
        }

        function selectAllTowardsNodes(evt) {
            if (!evt.ctrlKey) {
                blurElements(selected_lines)
            }
            selected_nodes.forEach(node => {forEachTowardLines(node.dataset.id, arr => {
                onElementSelected(arr, selected_lines, true);
            })})
        }
        function selectAllOutwardsNodes(evt) {
            if (!evt.ctrlKey) {
                blurElements(selected_lines)
            }
            selected_nodes.forEach(node => {forEachOutwardLines(node.dataset.id, arr => {
                onElementSelected(arr, selected_lines, true);
            })})
        }

        function addEventListenerFor(selector, event, cb) {
            elem = document.querySelector(selector)
            elem.addEventListener(event, (evt) => { cb(evt, elem) });
        }
        function addEventListenerForEach(selector, event, cb) {
            document.querySelectorAll(selector).forEach(elem => {
                elem.addEventListener(event, (evt) => { cb(evt, elem) });
            })
        }

        window.addEventListener("DOMContentLoaded", (event) => {
            const svg = document.querySelector('svg');
            let [x, y, width, height] = svg.getAttribute('viewBox').split(' ').map(Number);
            viewWidth = Math.min(width, 1800);
            viewHeight = Math.min(height, 1800);
            // set svg width to a fixed value to improve zoom behavior
            svg.setAttribute('width', `${viewWidth}px`);
            svg.setAttribute('height', `${viewHeight}px`);
            svg.setAttribute('style', "");  // remove max-width

            // Selection Event
            addEventListenerForEach("g[data-id]", "click", (evt, elem) => {
                onElementSelected(elem, selected_nodes, evt.ctrlKey);
                evt.stopPropagation()
            })
            addEventListenerForEach("path[marker-end]", "click", (evt, elem) => {
                onElementSelected(elem, selected_lines, evt.ctrlKey);
                evt.stopPropagation()
            })
            // Node Operations
            addEventListenerFor("#btnHideLines", "click", (evt, elem) => { hideAllLines() })
            addEventListenerFor("#btnHighlight", "click", (evt, elem) => { highlightNodes(evt, selected_nodes) })
            addEventListenerFor("#btnFocus", "click", (evt, elem) => { focusNodes(evt, selected_nodes) })
            addEventListenerFor("#btnToggle", "click", (evt, elem) => { hideShowNodes(evt, selected_nodes) })
            // Line Operations
            addEventListenerForEach(".btnColor", "click", (evt, btn) => {
                setLinesColor(selected_lines, btn.style.backgroundColor)
            })
            // Selection Event
            addEventListenerFor("#btnSelectTowards", "click", (evt) => { selectAllTowardsNodes(evt) })
            addEventListenerFor("#btnSelectOutwards", "click", (evt) => { selectAllOutwardsNodes(evt) })
            // Clear Selection
            addEventListenerForEach("#graph", "click", (evt, elem) => {
                // click anywhere in graph to clear selections
                blurElements(selected_nodes)
                blurElements(selected_lines)
            })
            // Keyboard Event
            nodes_cb_map = {
                m: highlightNodes,
                f: focusNodes,
                h: hideShowNodes,
                t: selectAllTowardsNodes,
                o: selectAllOutwardsNodes,
            }
            const checkKeyboardEnabled = document.querySelector("#keyboardEnable")
            window.addEventListener("keypress", (evt) => {
                if (!checkKeyboardEnabled.checked) {
                    return
                }
                if (selected_lines) {
                    document.querySelectorAll(".btnColor").forEach((btn) => {
                        if (btn.innerText === evt.key) {
                            setLinesColor(selected_lines, btn.style.backgroundColor)
                        }
                    })
                }
                if (selected_nodes) {
                    cb = nodes_cb_map[evt.key]
                    if (cb) {
                        cb(evt, selected_nodes)
                    }
                }
            })
        })
    </script>
</body>

</html>